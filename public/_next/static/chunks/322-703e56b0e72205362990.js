(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[322],{7870:function(e,r,t){"use strict";var n=t(5318),l=t(862);r.Z=void 0;var s=l(t(7294)),a=(0,n(t(2108)).default)(s.createElement("path",{d:"M16.01 11H4v2h12.01v3L20 12l-3.99-4z"}),"ArrowRightAlt");r.Z=a},366:function(e,r,t){"use strict";var n=t(5318),l=t(862);r.Z=void 0;var s=l(t(7294)),a=(0,n(t(2108)).default)(s.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");r.Z=a},5308:function(e,r,t){"use strict";var n=t(5318),l=t(862);r.Z=void 0;var s=l(t(7294)),a=(0,n(t(2108)).default)(s.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline");r.Z=a},9067:function(e,r,t){"use strict";var n=t(5318),l=t(862);r.Z=void 0;var s=l(t(7294)),a=(0,n(t(2108)).default)(s.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");r.Z=a},1397:function(e,r,t){"use strict";t.d(r,{TL:function(){return l},CG:function(){return s}});t(7757);var n=t(9226);var l=function(){return(0,n.I0)()},s=n.v9},8069:function(e,r,t){"use strict";t.d(r,{Z:function(){return N}});var n=t(5893),l=t(7757),s=t.n(l),a=t(2137),o=t(5419),i=t(4960),c=t(428),u=t(1276),d=t(1397),m=t(6215),f=t(1664),h=t(1163),p=t(4184),x=t.n(p);function b(e){var r=e.number,t=x()("absolute top-0 right-0 flex items-center justify-center p-2  translate-x-1/4 -translate-y-1/3 sm:translate-x-1/2 sm:-translate-y-1/3 bg-red-500 rounded-lg text-sm sm:text-base z-10",{"w-7 h-6 sm:w-9 sm:h-8":r>99},{"w-6 h-6 sm:w-7 sm:h-7":r<=99});return(0,n.jsx)(n.Fragment,{children:r>0&&(0,n.jsx)("div",{className:t,children:r>99?"99+":r})})}var g=t(155);function y(e){var r=e.children,t=e.isSelected,l=void 0!==t&&t,s=e.path,a=e.tooltip,o=void 0===a?"":a;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(f.default,{href:s,passHref:!0,children:(0,n.jsxs)("a",{className:"relative group mb-2",children:[l&&(0,n.jsx)("span",{className:"absolute top-0 left-0 block w-1 h-full bg-yellow-primary xs:w-2 rounded-r-md"}),o&&(0,n.jsx)("div",{className:"absolute hidden translate-x-4 -translate-y-1/2 left-full top-1/2 group-hover:block group-focus-visible:block",tabIndex:-1,children:(0,n.jsxs)("span",{className:"relative block px-5 py-1 text-white rounded-md bg-trueGray-700",children:[(0,n.jsx)("span",{className:"absolute left-0 w-0 h-0 -translate-x-2 -translate-y-1/2 border border-t-8 border-b-8 border-transparent top-1/2",style:{borderRight:"8px solid  #404040"}}),o]})}),(0,n.jsx)("button",{className:"w-full transition-all duration-300 ease-in-out h-14 text-trueGray-700 active:bg-gray-100/70",tabIndex:-1,children:r})]})})})}var v=t(2972),j=t(9669),w=t.n(j);function N(e){var r=e.shoppingListButtonDisabled,t=void 0!==r&&r,l=e.sideDrawerHandler,p=(0,h.useRouter)(),x=(0,d.CG)(m.wY),j=function(){var e=(0,a.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w().post("/api/auth/logout");case 3:e.sent,p.push("/login"),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return(0,n.jsxs)("aside",{className:"fixed top-0 left-0 flex flex-col items-center justify-between h-screen py-4 bg-white shadow-lg w-14 sm:w-20",children:[(0,n.jsx)(f.default,{href:"/",passHref:!0,children:(0,n.jsx)("a",{className:"w-12 sm:w-14",children:(0,n.jsx)("img",{src:"/img/logo.svg",alt:"logo"})})}),(0,n.jsxs)("div",{className:"flex flex-col justify-between w-full",children:[(0,n.jsx)(y,{isSelected:"/"===p.asPath,path:"/",tooltip:"Items",children:(0,n.jsx)(i.Z,{fontSize:"large"})}),(0,n.jsx)(y,{isSelected:"/history"===p.asPath,path:"/history",tooltip:"History",children:(0,n.jsx)(c.Z,{fontSize:"large"})}),(0,n.jsx)(y,{isSelected:"/stats"===p.asPath,path:"/stats",tooltip:"Statistics",children:(0,n.jsx)(o.Z,{fontSize:"large"})}),(0,n.jsxs)(g.Z,{className:"relative w-full group",onClick:function(e){return j()},children:[(0,n.jsx)("div",{className:"absolute hidden translate-x-4 -translate-y-1/2 left-full top-1/2 group-hover:block group-focus-visible:block",children:(0,n.jsxs)("span",{className:"relative block px-5 py-1 text-white rounded-md bg-trueGray-700",children:[(0,n.jsx)("span",{className:"absolute left-0 w-0 h-0 -translate-x-2 -translate-y-1/2 border border-t-8 border-b-8 border-transparent top-1/2",style:{borderRight:"8px solid  #404040"}}),"Logout"]})}),(0,n.jsx)("div",{className:"flex items-center justify-center w-full transition-all duration-300 ease-in-out h-14 text-trueGray-700 active:bg-gray-100/70",children:(0,n.jsx)(v.Z,{fontSize:"large"})})]})]}),(0,n.jsxs)(g.Z,{className:"relative w-12 h-12 text-white rounded-full sm:h-14 sm:w-14 focus-visible:ring-2 focus-visible:ring-black/90 focus-visible:ring-offset-2 ",onClick:l,color:"orange",disabled:t,children:[(0,n.jsx)(b,{number:x}),(0,n.jsx)("span",{className:"sm:hidden",children:(0,n.jsx)(u.Z,{})}),(0,n.jsx)("span",{className:"hidden sm:block",children:(0,n.jsx)(u.Z,{style:{fontSize:30}})})]})]})}},155:function(e,r,t){"use strict";var n=t(6156),l=t(5893),s=t(1253),a=t(4184),o=t.n(a),i=t(5477);function c(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function u(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?c(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}r.Z=function(e){var r=e.children,t=e.className,n=e.link,a=e.color,c=e.leftIcon,d=e.rightIcon,m=e.align,f=void 0===m?"center":m,h=e.justify,p=void 0===h?"center":h,x=e.block,b=void 0!==x&&x,g=e.loading,y=void 0!==g&&g,v=(0,s.Z)(e,["children","className","link","color","leftIcon","rightIcon","align","justify","block","loading"]),j=o()({"inline-flex":!b},{block:b},"items-".concat(f," justify-").concat(p," font-semibold transition-all duration-200 ease-in-out disabled:cursor-not-allowed disabled:bg-gray-300 disabled:hover:bg-gray-300"),t),w=o()(j,"hover:bg-gray-200/50 active:bg-gray-200/80 focus:bg-gray-200/50"),N=o()(j,"bg-red-500/95 hover:bg-red-500/80 active:bg-red-600/90 active:text-opacity-90 focus:ring focus:ring-red-200"),O=o()(j,"bg-yellow-primary/95 hover:bg-yellow-primary/80 active:bg-yellow-600/80 active:text-opacity-90 focus:ring focus:ring-yellow-100"),k=o()(j,"bg-lightBlue-400 hover:bg-lightBlue-400/90 active:bg-lightBlue-500/80 active:text-opacity-90 focus:ring focus:ring-lightBlue-100");return(0,l.jsxs)("button",u(u({className:function(){if(n)return w;switch(a){case"red":return N;case"orange":return O;case"blue":return k;default:return j}}()},v),{},{children:[y&&(0,l.jsx)("span",{className:"flex items-center mr-2",children:(0,l.jsx)(i.Z,{classes:{circle:"text-white"},size:15})}),!y&&c&&(0,l.jsx)("span",{className:"mr-2",children:c}),r,!y&&d&&(0,l.jsx)("span",{className:"ml-2",children:d})]}))}},9063:function(e,r,t){"use strict";t.d(r,{Z:function(){return l}});var n=t(5893);t(7294);function l(e){var r=e.className,t=e.leftElements,l=e.rightElements;return(0,n.jsxs)("div",{className:"".concat(r," flex p-5 bg-white shadow rounded-xl"),children:[t,l]})}},4409:function(e,r,t){"use strict";var n=t(5893),l=t(6156),s=t(1253),a=t(4184),o=t.n(a);function i(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function c(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?i(Object(t),!0).forEach((function(r){(0,l.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var u={sm:"rounded-sm",md:"rounded-md",lg:"rounded-lg",xl:"rounded-xl","2xl":"rounded-2xl","3xl":"rounded-3xl",full:"rounded-full"},d={sm:"rounded-l-sm",md:"rounded-l-md",lg:"rounded-l-lg",xl:"rounded-l-xl","2xl":"rounded-l-2xl","3xl":"rounded-l-3xl",full:"rounded-l-full"},m={sm:"rounded-r-sm",md:"rounded-r-md",lg:"rounded-r-lg",xl:"rounded-r-xl","2xl":"rounded-r-2xl","3xl":"rounded-r-3xl",full:"rounded-r-full"};r.Z=function(e){var r=e.label,t=e.error,a=e.className,i=e.inputClassName,f=e.leftElement,h=e.rightElement,p=e.parentClassName,x=e.rounded,b=void 0===x?"xl":x,g=(0,s.Z)(e,["label","error","className","inputClassName","leftElement","rightElement","parentClassName","rounded"]),y=o()("w-full border-0 focus:ring-0 focus:border-0",(0,l.Z)({},d[b],!f),(0,l.Z)({},m[b],!h),i);return(0,n.jsxs)("div",{className:p+" w-full h-full",children:[r&&(0,n.jsx)("label",{className:"block mb-2 text-sm text-gray-800",htmlFor:g.id||r||g.name,children:r}),(0,n.jsxs)("div",{className:o()(a,"flex items-center justify-center w-full h-full ",u[b]),children:[f&&(0,n.jsx)("div",{className:o()("flex items-center justify-center bg-white",d[b]),children:f}),(0,n.jsx)("input",c({id:g.id||r||g.name,className:y},g)),h&&(0,n.jsx)("div",{className:o()("flex items-center justify-center bg-white",m[b]),children:h})]}),t&&(0,n.jsx)("small",{className:"text-red-500",children:t})]})}},1917:function(e,r,t){"use strict";t.d(r,{Z:function(){return q}});var n=t(5893),l=t(4184),s=t.n(l),a=t(7294),o=t(8069),i=t(1397),c=t(7101),u=t(6156),d=t(7757),m=t.n(d),f=t(2137),h=t(3564),p=t(155),x=t(4409),b=t(1253);var g=function(e,r){(0,a.useEffect)((function(){var t=function(t){var n=null===e||void 0===e?void 0:e.current;n&&!n.contains(t.target)&&r(t)};return document.addEventListener("mousedown",t),document.addEventListener("touchstart",t),function(){document.removeEventListener("mousedown",t),document.removeEventListener("touchstart",t)}}),[e,r])};function y(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function v(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?y(Object(t),!0).forEach((function(r){(0,u.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):y(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function j(e){var r,t=e.className,l=e.inputClassName,s=e.label,o=e.error,i=e.options,c=(e.children,e.onChange),u=(0,b.Z)(e,["className","inputClassName","label","error","options","children","onChange"]),d=(0,a.useRef)(null),m=(0,a.useRef)(null),f=(0,a.useRef)([]),h=(0,a.useRef)(null),p=(0,a.useState)(!1),x=p[0],y=p[1],j=(0,a.useState)(i),w=j[0],N=j[1];g(d,(function(e){return y(!1)}));return(0,n.jsxs)("div",{className:"".concat(t," w-full relative h-20"),ref:d,children:[(0,n.jsx)("label",{className:"block mb-2 text-sm text-gray-800",htmlFor:u.id||s||u.name,children:s}),(0,n.jsx)("input",v({ref:m,id:u.id||s||u.name,className:"".concat(l," w-full rounded-xl border-gray-400"),onChange:function(e){y(!0),N(i.filter((function(r){return r.toLowerCase().includes(e.target.value.toLowerCase())}))),c&&c(e)},onKeyDown:function(e){"ArrowDown"===e.key&&f.current[0].focus(),"Escape"==e.key&&y(!1)}},u)),(null===m||void 0===m||null===(r=m.current)||void 0===r?void 0:r.value)&&x&&w.length>0&&(0,n.jsx)("div",{className:"absolute left-0 w-full p-2 transform translate-y-1 bg-white border border-gray-400 rounded-md shadow top-full",ref:h,children:w.map((function(e,r){return(0,n.jsx)("button",{className:"block w-full px-3 py-2 text-left rounded-md focus:bg-gray-100/90 hover:bg-gray-100/90 focus-visible:bg-gray-50",onClick:function(){var r,t,n={target:{id:null===(r=m.current)||void 0===r?void 0:r.id,name:null===(t=m.current)||void 0===t?void 0:t.name,value:e}};c&&c(n),y(!1)},onKeyDown:function(e){var t;("ArrowDown"==e.key&&f.current[Math.min(w.length-1,r+1)].focus(),"ArrowUp"==e.key)&&(f.current[Math.max(0,r-1)].focus(),0==r&&(null===m||void 0===m||null===(t=m.current)||void 0===t||t.focus()));"Escape"==e.key&&y(!1)},ref:function(e){f.current.push(e)},children:e},e)}))}),(0,n.jsx)("small",{className:"block mt-1 text-red-500",children:o})]})}function w(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function N(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?w(Object(t),!0).forEach((function(r){(0,u.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):w(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var O=function(e){var r=e.label,t=e.className,l=e.inputClassName,s=e.error,a=(0,b.Z)(e,["label","className","inputClassName","error"]);return(0,n.jsxs)("div",{className:"".concat(t," w-full"),children:[(0,n.jsx)("label",{className:"block mb-2 text-sm text-gray-800",htmlFor:a.id||r||a.name,children:r}),(0,n.jsx)("textarea",N({id:a.id||r||a.name,className:"".concat(l," w-full rounded-xl border-gray-400")},a)),(0,n.jsx)("small",{className:"block mt-1 text-red-500",children:s})]})},k=t(2720),C=t(9669),Z=t.n(C);function P(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function S(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?P(Object(t),!0).forEach((function(r){(0,u.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):P(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var E=function(){var e=(0,f.Z)(m().mark((function e(r){var t;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},r.name?r.name.length>30&&(t.name="Must be 30 characters or less"):t.name="Required",r.category||(t.category="Required"),r.note&&r.note.length>500&&(t.note="Must be 500 characters or less"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),D={name:"",note:"",image:"",category:""};var L=function(e){var r=e.className,t=(0,a.useState)([]),l=t[0],s=t[1],o=(0,i.TL)(),u=(0,i.CG)((function(e){return e.products.errors})),d=(0,h.TA)({initialValues:S({},D),validate:E,onSubmit:function(){var e=(0,f.Z)(m().mark((function e(r,t){var n,l,s,a,i,c;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o((0,k.xg)({name:r.name.trim(),description:null===(n=r.note)||void 0===n?void 0:n.trim(),imageUrl:null===(l=r.image)||void 0===l?void 0:l.trim(),categoryName:r.category.trim()}));case 2:e.sent,u?t.setErrors({name:null!==(s=u.name)&&void 0!==s?s:"",note:null!==(a=u.description)&&void 0!==a?a:"",image:null!==(i=u.imageUrl)&&void 0!==i?i:"",category:null!==(c=u.category)&&void 0!==c?c:""}):t.resetForm(),t.setSubmitting(!1);case 5:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}()});return(0,a.useEffect)((function(){return(0,f.Z)(m().mark((function e(){var r,t;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z().get("/api/categories");case 3:r=e.sent,t=[],r.data.categories.forEach((function(e){t.push(e.name)})),s(t),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})))(),function(){}}),[]),(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("form",{className:"".concat(r," bg-white flex flex-col h-full w-full"),onSubmit:d.handleSubmit,autoComplete:"off",children:(0,n.jsxs)("div",{className:"flex-1 w-full h-full px-5 pt-4 overflow-auto scrollbar-hidden",children:[(0,n.jsxs)("div",{className:"mb-8",children:[(0,n.jsx)("h1",{className:"mb-5 text-2xl font-semibold",children:"Add a new item"}),(0,n.jsx)(x.Z,S({parentClassName:"my-4",className:"border-2 border-gray-400 hover:border-gray-800 focus-within:border-gray-800",type:"text",id:"name",label:"Name",placeholder:"Enter a name",inputClassName:"py-3 pl-3",error:d.touched.name&&d.errors.name?d.errors.name:""},d.getFieldProps("name"))),(0,n.jsx)(O,S({className:"my-4",id:"note",label:"Note (optional) ",placeholder:"Enter a note",inputClassName:"py-3 pl-3 border-2 border-gray-400  hover:border-gray-800 focus:ring-0 focus:border-gray-800 resize-y-none min-h-[100px] max-h-80",maxLength:300,rows:4,error:d.touched.note&&d.errors.note?d.errors.note:""},d.getFieldProps("note"))),(0,n.jsx)(x.Z,S({parentClassName:"my-4",className:"border-2 border-gray-400 hover:border-gray-800 focus-within:border-gray-800",type:"text",id:"image",label:"Image (optional)",placeholder:"Enter a url",inputClassName:"py-3 pl-3",error:d.touched.image&&d.errors.image?d.errors.image:""},d.getFieldProps("image"))),(0,n.jsx)(j,S({className:"my-4",id:"category",label:"Category",inputClassName:"py-3 pl-3 border-2 border-gray-400  hover:border-gray-800 focus:ring-0 focus:border-gray-800",placeholder:"Enter a category",options:l,error:d.touched.category&&d.errors.category?d.errors.category:""},d.getFieldProps("category")))]}),(0,n.jsxs)("div",{className:"flex items-center justify-center w-full h-24 px-5 bg-white sm:h-28",children:[(0,n.jsx)(p.Z,{className:"px-5 py-3 mr-2 rounded-xl",onClick:function(){return o((0,c.S8)({isSideDrawerOpen:!0,sideDrawerType:"shoppingList"}))},"aria-label":"cancel button",link:!0,children:"cancel"}),(0,n.jsx)(p.Z,{type:"submit",className:"px-5 py-3 text-white rounded-xl",color:"orange",onClick:function(){},"aria-label":"save button",disabled:!d.isValid||!d.dirty,children:"Save"})]})]})})})},G=t(5308);function z(e){var r=e.item,t=e.checkBox,l=e.handleToggleCompleted,a=e.handleAddQuantity,o=e.handleReduceQuantity,i=e.handleDelete;return(0,n.jsx)("div",{children:(0,n.jsxs)("div",{className:"flex items-center justify-between my-2 text-lg font-semibold",children:[(0,n.jsxs)("div",{className:"flex items-center ",children:[t&&(0,n.jsx)("input",{type:"checkbox",name:"done",id:"done-".concat(r.name),checked:r.completed,onChange:function(){return l(r)},className:"w-5 h-5 border-2 rounded shadow-sm border-yellow-primary text-yellow-primary focus:ring focus:ring-offset-0 focus:ring-yellow-200/70 focus:border-yellow-600"}),r.completed?(0,n.jsx)("del",{className:s()("py-2",{"ml-5":t}),children:r.name}):(0,n.jsx)("p",{className:s()("py-2",{"ml-5":t}),children:r.name})]}),(0,n.jsx)("div",{children:(0,n.jsxs)("div",{className:"flex items-center justify-center pr-2 hover:bg-white text-yellow-primary w-max rounded-xl group focus-within:bg-white",children:[(0,n.jsx)(p.Z,{className:"hidden h-full p-2 text-white bg-yellow-primary hover:bg-yellow-primary/90 active:bg-yellow-600/70 rounded-xl group-hover:block group-focus-within:block",onClick:function(e){return i(r)},children:(0,n.jsx)(G.Z,{})}),(0,n.jsx)("button",{className:"hidden mx-1 text-2xl font-semibold disabled:text-yellow-400 disabled:cursor-not-allowed hover:text-opacity-50 focus:text-yellow-600/75 group-hover:block group-focus-within:block",onClick:function(e){return o(r)},disabled:1==r.quantity,children:"\uff0d"}),(0,n.jsxs)(p.Z,{className:"px-4 py-1 mx-1 text-sm border-2 border-yellow-primary text-yellow-primary rounded-3xl hover:bg-yellow-50 active:bg-yellow-100/50 hover:shadow-md focus:border-yellow-600 focus:ring focus:ring-yellow-200/70 ",onClick:function(){},children:[r.quantity," pcs"]}),(0,n.jsx)("button",{className:"hidden mx-1 text-2xl font-semibold hover:text-opacity-50 focus:text-yellow-600/75 group-hover:block group-focus-within:block",onClick:function(){return a(r)},children:"\uff0b"})]})})]})})}var F=t(9067),T=t(7338),A=t(6215);function R(e){var r=e.setEditList,t=(0,i.TL)(),l=(0,i.CG)(A.Qh),o=(0,i.CG)((function(e){return e.shoppingList.status})),c=(0,a.useState)(l.name),u=c[0],d=c[1];(0,a.useEffect)((function(){return"success"==o&&d(l.name),function(){}}),[o]);var m=s()("border-2",{"border-yellow-primary caret-yellow-primary focus-within:border-yellow-600/75 hover:border-yellow-primary/90 focus-visible:border-black/90":u&&l.products.length>0},{"border-gray-300":!u||0==l.products.length});return(0,n.jsx)("form",{autoComplete:"off",className:"flex-1",onSubmit:function(e){return e.preventDefault()},children:(0,n.jsx)(x.Z,{type:"text",name:"item-name",placeholder:"Enter a name",className:m,inputClassName:"py-2 sm:py-3",value:u,onChange:function(e){return d(e.target.value)},rightElement:(0,n.jsx)(p.Z,{className:"px-4 py-2 text-lg font-bold text-white rounded-lg sm:px-6 sm:py-3 bg-yellow-primary hover:bg-yellow-primary/90 focus:bg-yellow-600/75 active:bg-yellow-600/80",onClick:function(){t((0,A.eu)(u)),r(!1)},disabled:!u||0==l.products.length,children:"Save"})})})}var I=t(366);var M=function(e){var r=e.children,t=e.className,l=e.onClose,s=e.onConfirm;return(0,n.jsxs)("div",{className:"flex flex-col px-4 py-2 bg-white rounded-xl ".concat(t),children:[(0,n.jsx)("div",{className:"flex justify-end text-gray-500",children:(0,n.jsx)(p.Z,{onClick:l,children:(0,n.jsx)(I.Z,{})})}),r,(0,n.jsxs)("div",{className:"flex justify-end my-2",children:[(0,n.jsx)(p.Z,{className:"px-5 py-2 mr-2 rounded-lg",onClick:l,"aria-label":"modal cancel button",link:!0,children:"cancel"}),(0,n.jsx)(p.Z,{className:"px-5 py-2 text-white rounded-lg",color:"red",onClick:s,"aria-label":"modal confirm button",children:"Yes"})]})]})};var B=function(e){var r=e.children,t=e.center,l=void 0!==t&&t,a=s()("fixed top-0 left-0 z-50 w-screen h-screen bg-black/20",{"flex justify-center items-center":l});return(0,n.jsx)("div",{className:a,children:r})};function H(e){var r=e.name,t=e.children;return(0,n.jsxs)("div",{className:"my-4",children:[(0,n.jsx)("p",{className:"text-sm text-trueGray-400",children:r}),t]})}var Q=function(){var e=(0,i.TL)(),r=(0,i.CG)(A.Qh),t=(0,i.CG)((function(e){return e.shoppingList.status})),l=(0,a.useState)(!r.name),s=l[0],o=l[1],u=(0,T.Z)(r.products),d=(0,a.useState)(!1),m=d[0],f=d[1];return(0,a.useEffect)((function(){"idle"===t&&e((0,A.SQ)()),"success"==t&&o(!r.name)}),[t]),(0,n.jsxs)("div",{className:"bg-[#FFF0DE] w-full h-full flex flex-col justify-between",children:[m&&(0,n.jsx)(B,{center:!0,children:(0,n.jsx)(M,{onClose:function(){return f(!1)},onConfirm:function(){return e((0,A.Yv)())},children:(0,n.jsx)("div",{className:"w-5/6 pb-5",children:(0,n.jsx)("span",{className:"text-lg font-medium",children:"Are you sure you want to cancel this list?"})})})}),(0,n.jsxs)("div",{className:"flex flex-col h-full px-4 overflow-auto pt-7 lg:px-6 scrollbar-hidden",children:[(0,n.jsxs)("div",{className:"bg-[#80485B] flex rounded-3xl w-full mx-auto p-3 sm:p-4  text-white font-bold text-lg",children:[(0,n.jsx)("div",{className:"flex items-center justify-center w-1/3",children:(0,n.jsx)("img",{src:"/img/bottle.svg",alt:"bottle",width:"80",height:"120"})}),(0,n.jsx)("div",{className:"flex items-center mt-1 ml-5",children:(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"block",children:"Didn\u2019t find what you need?"}),(0,n.jsx)(p.Z,{className:"px-6 py-2 mt-3 font-semibold bg-white text-trueGray-800 rounded-xl focus:ring focus:ring-gray-300 hover:bg-opacity-90 active:bg-gray-50","aria-label":"add item button",onClick:function(r){return e((0,c.S8)({isSideDrawerOpen:!0,sideDrawerType:"addForm"}))},children:"Add item"})]})})]}),u.length>0&&(0,n.jsx)("div",{children:(0,n.jsxs)("div",{className:"my-4 text-2xl font-semibold text-trueGray-800",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between h-12",children:[(0,n.jsx)("h2",{children:"Shopping list"}),r.name&&(0,n.jsx)(p.Z,{className:"w-12 h-12 rounded-full text-trueGray-700 sm:h-14 sm:w-14 hover:bg-trueGray-300/30 active:bg-trueGray-300/50","aria-label":"edit button",onClick:function(){o(!s)},children:(0,n.jsx)(F.Z,{})})]}),u.map((function(r,t){return(0,n.jsx)(H,{name:r.name,children:r.items.map((function(r,t){return(0,n.jsx)(z,{item:r,handleToggleCompleted:function(){return e((0,A.L$)(r))},handleAddQuantity:function(){return e((0,A.g1)(r))},handleReduceQuantity:function(){return e((0,A.X1)(r))},handleDelete:function(){return e((0,A.kh)(r))},checkBox:!s},r.name+t)}))},r.name+t)}))]})}),0===u.length&&(0,n.jsxs)("div",{className:"relative flex flex-col items-center justify-center w-full h-full mt-6 text-xl font-semibold ",children:[(0,n.jsx)("p",{className:"flex items-center justify-center h-1/2",children:"No items"}),(0,n.jsx)("div",{className:"flex items-end justify-center w-full h-1/2",children:(0,n.jsx)("img",{src:"/img/shopping.svg",alt:"shopping cart image",width:"200"})})]})]}),(0,n.jsxs)("div",{className:"flex items-center justify-center w-full h-24 px-4 bg-white lg:px-6 sm:h-28",children:[s&&(0,n.jsx)(R,{setEditList:o}),!s&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(p.Z,{className:"px-5 py-3 mr-2 rounded-xl",onClick:function(){return f(!0)},"aria-label":"modal cancel button",link:!0,children:"cancel"}),(0,n.jsx)(p.Z,{className:"px-5 py-3 text-white rounded-xl",color:"blue",onClick:function(){return e((0,A.TO)())},"aria-label":"modal confirm button",children:"Complete"})]})]})]})},V=t(7870);var U=function(e){var r=e.className,t=e.onClose,l=(0,i.TL)(),s=(0,i.CG)(k.$t),o=(0,a.useState)(!1),c=o[0],u=o[1],d="mb-4 font-medium",m="text-xs text-gray-500 mb-1";return(0,n.jsxs)("div",{className:"".concat(r," bg-white flex flex-col h-full w-full"),children:[(0,n.jsx)("div",{className:"flex-1 w-full px-5 overflow-auto scrollbar-hidden",children:(0,n.jsxs)("div",{children:[(0,n.jsx)(p.Z,{className:"mt-4 mb-8 text-sm text-yellow-primary",onClick:t,leftIcon:(0,n.jsx)(V.Z,{className:"rotate-180",fontSize:"small"}),children:"back"}),s.imageUrl&&(0,n.jsx)("div",{className:"w-full mb-8",children:(0,n.jsx)("img",{className:"rounded-xl",src:s.imageUrl,alt:s.name,width:500,height:500})}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:d,children:[(0,n.jsx)("h2",{className:m,children:"name"}),(0,n.jsx)("p",{className:"text-lg font-semibold",children:s.name})]}),(0,n.jsxs)("div",{className:d,children:[(0,n.jsx)("h2",{className:m,children:"category"}),(0,n.jsx)("p",{children:s.category.name})]}),s.description&&(0,n.jsxs)("div",{className:d,children:[(0,n.jsx)("h2",{className:m,children:"note"}),(0,n.jsx)("p",{children:s.description})]})]})]})}),(0,n.jsxs)("div",{className:"flex items-center justify-center w-full h-24 px-5 bg-white sm:h-28",children:[(0,n.jsx)(p.Z,{className:"px-5 py-3 mr-2 rounded-xl",onClick:function(){return u(!0)},"aria-label":"modal cancel button",link:!0,children:"delete"}),(0,n.jsx)(p.Z,{className:"px-5 py-3 text-white rounded-xl",color:"orange",onClick:function(){return l((0,A.gK)(s))},"aria-label":"modal confirm button",children:"Add to list"})]}),c&&(0,n.jsx)(B,{center:!0,children:(0,n.jsx)(M,{onClose:function(){return u(!1)},onConfirm:function(){return l((0,k.Ir)(s))},children:(0,n.jsx)("div",{className:"w-5/6 pb-5",children:(0,n.jsx)("span",{className:"text-lg font-medium",children:"Are you sure you want to delete this product?"})})})})]})};function q(e){var r=e.children,t=(0,i.TL)(),l=(0,i.CG)((function(e){return e.layout})),a=l.isSideDrawerOpen,u=l.sideDrawerType,d=s()("ml-14 sm:ml-20 px-5 bg-gray-50 min-h-screen",{"hidden md:block md:mr-80 lg:mr-96":a});return(0,n.jsxs)("div",{className:"w-full min-h-screen",children:[(0,n.jsx)(o.Z,{sideDrawerHandler:function(){t("shoppingList"===u?(0,c.Bf)("shoppingList"):(0,c.S8)({isSideDrawerOpen:!0,sideDrawerType:"shoppingList"}))}}),(0,n.jsx)("main",{className:d,children:r}),a&&(0,n.jsx)("aside",{className:"relative h-screen shadow-lg md:right-0 md:fixed md:top-0 ml-14 sm:ml-20 md:ml-0",children:(0,n.jsx)("div",{className:"w-full h-full md:w-80 lg:w-96",children:"shoppingList"===u?(0,n.jsx)(Q,{}):"addForm"===u?(0,n.jsx)(L,{}):(0,n.jsx)(U,{onClose:function(){return t((0,c.S8)({isSideDrawerOpen:!1,sideDrawerType:"viewContent"}))}})})})]})}},1679:function(e,r,t){"use strict";t.d(r,{Z:function(){return u}});var n=t(7757),l=t.n(n),s=t(2137),a=t(7294),o=t(1163),i=t(9669),c=t.n(i);function u(){var e=(0,a.useState)(!0),r=e[0],t=e[1],n=(0,a.useState)(null),i=n[0],u=n[1],d=(0,o.useRouter)();return(0,a.useEffect)((function(){return(0,s.Z)(l().mark((function e(){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c().post("/api/auth/");case 3:r=e.sent,u(r.data.user),t(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),d.push("/login");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))(),function(){}}),[]),{user:i,isLoading:r}}},7338:function(e,r,t){"use strict";t.d(r,{Z:function(){return o}});var n=t(6156),l=t(7294);function s(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function a(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?s(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function o(e,r){var t=(0,l.useState)([]),n=t[0],s=t[1];return r||(r=e),(0,l.useEffect)((function(){var r=[];return e.forEach((function(e){var t=r.find((function(r){return r.name===e.category.name}));t&&t.items.push(e),!t&&r.push(a(a({},e.category),{},{items:[e]}))})),s([].concat(r)),function(){}}),[r]),n}}}]);